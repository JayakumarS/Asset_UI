<section class="content">
    <div class="content-block">
        <div class="block-header" style="padding: 0.5% !important;">
            <app-breadcrumb [title]="'fixed-deposit-Report'" [items]="['Reports']" [active_item]="'fixed-deposit-List'">
            </app-breadcrumb>
        </div>
        <div class="row clearfix" >
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                <div class="box-shadow">
                    <div class="card">
                        <div class="body" style="padding-left: 1%;">
                            <form class="m-4" [formGroup]="docForm">
                                <h5 style="color: rgb(10, 25, 109);">Required Filters to Search</h5><br>
                                <div class="row" style="padding-left: 10%;">
                                    <div class=" col-md-2">
                                        <label style="margin-top: 11px;">INVESTMENT TERM</label>
                                    </div>
                                    <div class="col-xl-2 col-lg-4 col-md-12 col-sm-12 ">
                                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                            <mat-select formControlName="investmentTerm" style="font-size:small;">
                                              <mat-option value="Short Time Deposit">Short Time Deposit</mat-option>
                                              <mat-option value="Long Time Deposit">Long Time Deposit</mat-option>
                                              
                                            </mat-select>
                                        </mat-form-field> 
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 11px;">INTEREST PAYMENT FREQUENCY</label>
                                    </div>
                                    <div class="col-xl-2 col-lg-4 col-md-12 col-sm-12 " >
                                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                            <mat-select formControlName="frequency" style="font-size:small;">
                                              <mat-option value="MONTHLY">MONTHLY</mat-option>
                                              <mat-option value="QUARTELY">QUARTELY</mat-option>
                                              <mat-option value="HALF-YEARLY">HALF-YEARLY</mat-option>
                                              <mat-option value="YEARLY">YEARLY</mat-option>
                                            </mat-select>
                                        </mat-form-field> 
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 11px;">FIXED-DEPOSIT-TYPE</label>
                                    </div>
                                    <div class="col-xl-2 col-lg-4 col-md-12 col-sm-12 " >
                                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                            <mat-select formControlName="fixeddeposittype" style="font-size:small;">
                                              <mat-option value=" Regular Fixed Deposit"> Regular Fixed Deposit</mat-option>
                                              <mat-option value=" Senior Citizen Fixed Deposit"> Senior Citizen Fixed Deposit</mat-option>
                                              <mat-option value="Tax-Saving Fixed Deposit">Tax-Saving Fixed Deposit</mat-option>
                                              <mat-option value="Corporate Fixed Deposit">Corporate Fixed Deposit</mat-option>
                                            </mat-select>
                                        </mat-form-field> 
                                    </div>
                                </div>
                                <div class="row" style="padding-left: 10%;">
                                    <div class=" col-md-2">
                                        <label style="margin-top: 11px;">CURRENCY</label>
                                    </div>
                                    <div class="col-xl-2 col-lg-4 col-md-12 col-sm-12 " >
                                       <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                          <mat-select formControlName="currency" >
                            <mat-option [value]="'KSH'">KSH</mat-option>
                            <mat-option [value]="'INR'">INR</mat-option>
                            <mat-option [value]="'TES'">TES</mat-option>
                            </mat-select>
                          </mat-form-field>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 11px;">AUTO RENEWAL</label>
                                    </div>
                                    <div class="col-xl-2 col-lg-4 col-md-12 col-sm-12 " >
                                        <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                            <mat-select formControlName="autoRenewal" style="font-size:small;">
                                              <mat-option value="Renewal for the same tenure">Renewal for the same tenure</mat-option>
                                              <mat-option value="Renewal for a different tenure">Renewal for a different tenure</mat-option>
                                              <mat-option value="Renewal with partial withdrawal">Renewal with partial withdrawal</mat-option>
                                              <mat-option value=" Non-renewal"> Non-renewal</mat-option>
                                            </mat-select>
                                        </mat-form-field> 
                                    </div>
                                    
                                </div><br>
                                <div class="row" >
                                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                                      <button (click) = "onSubmit()" class="btn-space" mat-raised-button
                                        color="accent" style="margin-left: 43%;background-color: #34d034;">Submit</button>
                                      <button color="primary" type="button" class="btn-space" (click)="reset()" mat-raised-button>Reset</button>
                                    </div>
                                </div>
                                <hr><br>
                                 <!-- <h5 style="color: rgb(10, 25, 109);"><span style="color: red;">*</span></h5><br> -->
                                 <mat-accordion>
                                    <mat-expansion-panel (opened)="panelOpenState = true"
                                    (closed)="panelOpenState = false">
                                      <mat-expansion-panel-header>
                                        <mat-panel-title>
                                          <h5 style="color: rgb(10, 25, 109);">Required Columns in Excel Export <span style="color: red;">*</span></h5>
                                        </mat-panel-title>
                                        <mat-panel-description>
                                          Export To Excel {{panelOpenState ? 'open' : 'closed'}}
                                        </mat-panel-description>
                                      </mat-expansion-panel-header>
                                <div class="row">
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">FD-HOLDER NAME</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                        <mat-checkbox style="margin-top: 6px;margin-left: -50px; " formControlName="fdNameCheckbox"
                                         ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">EMAIL-ID</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="mailCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">FD REFERENCE</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="fdRefCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">LOAN TYPE</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="fixeddeposittypeCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                </div><br>
                                <div class="row">
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">FD ACCOUNT NO</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                        <mat-checkbox style="margin-top: 6px;margin-left: -50px; " formControlName="fdaccountNoCheckbox"
                                         ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">DUE AMOUNT</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="dueAmountCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">FD START DATE</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="fdstartDateCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">FD END DATE </label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="fdendDateCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                </div><br>
                                <div class="row">
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">CURRENCY</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                        <mat-checkbox style="margin-top: 6px;margin-left: -50px; " formControlName="currencyCheckbox"
                                         ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">PENALTY AMOUNT</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="penaltyAmtCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">INVESTMENT TERM</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="investmentTermCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">RATE OF INTEREST (%)</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="interestCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                </div><br>
                                <div class="row">
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">BANK NAME</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                        <mat-checkbox style="margin-top: 6px;margin-left: -50px; " formControlName="bankNameCheckbox"
                                         ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">BANK IFSC</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                      <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="ifsccodeCheckBox" 
                                       ngInit="checked=true"></mat-checkbox>
                                    </div>
                                    <div class=" col-md-2">
                                        <label style="margin-top: 9px;">AUTO RENEWAL</label>
                                    </div>
                                    <div class="col-xl-1 col-lg-4 col-md-12 col-sm-12 ">
                                        <mat-checkbox style="margin-top: 6px;margin-left: -50px;" formControlName="autoRenewalCheckBox" 
                                         ngInit="checked=true"></mat-checkbox>
                                      </div>
                                </div><br>
                            </mat-expansion-panel>
                        </mat-accordion>
                                <hr>
                                <br>
                                <div class="row">
                                    <div class=" col-md-6">
                                        <h5 style="color: rgb(10, 25, 109);">Filters based Asset History List</h5>
                                    </div>
                                    <div class=" col-md-6">
                                        <div class="export-button m-l-10" matTooltip="Export To Excel" style="margin-left: 77%;">
                                          <button color="primary" type="button" class="btn-space" (click)="exportExcel()" 
                                          *ngIf="docForm.get('fdNameCheckbox')?.value || docForm.get('mailCheckBox')?.value || 
                                          docForm.get('fdRefCheckBox')?.value || docForm.get('fdaccountNoCheckBox')?.value || 
                                          docForm.get('fixeddeposittypeCheckBox')?.value || docForm.get('fdstartDateCheckBox')?.value || 
                                          docForm.get('fdendDateCheckBox')?.value || docForm.get('dueAmountCheckBox')?.value || 
                                          docForm.get('currencyCheckbox')?.value || docForm.get('interestCheckBox')?.value || 
                                          docForm.get('ifsccodeCheckBox')?.value || docForm.get('bankNameCheckbox')?.value 
                                          || docForm.get('penaltyAmtCheckBox')?.value || docForm.get('investmentTermCheckBox')?.value   
                                          || docForm.get('ifsccodeCheckBox')?.value || docForm.get('autoRenewalCheckBox')?.value
                                          || docForm.get('fdaccountNoCheckbox')?.value  "
                                          mat-raised-button>Export To Excel</button>
                                        </div>
                                      </div>
                                </div><br>

                                <div class="tableBody">
                                    <div class="table-responsive">
                                        <table class="table table-hover table-striped" style="width: 150%;">
                                            <thead>
                                                <tr>
                                                 <th style="background-color:#607D8B; width: 10%;color:#FFFFFF">FD-HOLDER NAME</th>
                                                 <th style="background-color:#607D8B; width: 6%;color:#FFFFFF">EMAIL-ID</th>
                                                 <th style="background-color:#607D8B; width: 8%;color:#FFFFFF">FD REFERENCE</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">FD TYPE</th>
                                                 <th style="background-color:#607D8B; width: 8%;color:#FFFFFF">FD ACCOUNT NUMBER</th>
                                                 <th style="background-color:#607D8B; width: 8%;color:#FFFFFF">FD START DATE</th>
                                                 <th style="background-color:#607D8B; width: 8%;color:#FFFFFF">FD END DATE</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">CURRENCY</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">FD AMOUNT</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">PENALTY AMOUNT</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">RATE OF INTEREST(%)</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">BANK NAME</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">BANK IFSC</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">DUE AMOUNT</th>
                                                 <th style="background-color:#607D8B; width: 5%;color:#FFFFFF">INVESTMENT TERM</th>
                                               
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let data of fdHistoryList | paginate: { itemsPerPage: 5, currentPage: pageChanged }">
                                                  <td>{{data.fdName}}</td>
                                                  <td>{{data.mail}}</td>
                                                  <td>{{data.fdRef}}</td>
                                                  <td>{{data.fixeddeposittype}}</td>
                                                  <td>{{data.fdaccountNo}}</td>
                                                  <td>{{data.fdstartDate}}</td>
                                                  <td>{{data.fdendDate}}</td>
                                                  <td>{{data.currency}}</td>
                                                  <td>{{data.fdamtnt}}</td>
                                                  <td>{{data.penaltyAmt}}</td>
                                                  <td>{{data.interest}}</td>
                                                  <td>{{data.bankName}}</td>
                                                  <td>{{data.ifscCode}}</td>
                                                  <td>{{data.dueAmount}}</td>
                                                  <td>{{data.investmentTerm}}</td>
                                                </tr>
                                              </tbody>
                                        </table>
                                        <div style="margin-left: 40%;">
                                            <pagination-controls (pageChange)="pageChanged=($event)"></pagination-controls>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>