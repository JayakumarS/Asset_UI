<section class="content">
    <div class="content-block">
        <form class="m-4" [formGroup]="docForm">
        <div class="block-header" style="padding: 0.5% !important;">
            <!-- breadcrumb -->
            <app-breadcrumb [title]="'Asset Profile'" [items]="['Asset ']" [active_item]="'AssetProfile'">
            </app-breadcrumb>
        </div>
        <style>
            .SearchIcon{
                font-weight: bolder;
                color: black;
                width: 100%;
                height: 100%;
                cursor: pointer;
              }
        </style>
        <!-- Your content goes here  -->
        <div class="row clearfix">
            <div class="col-lg-4 col-md-12">
                <div class="card">

                    <div class="m-b-20">
                        <div class="contact-grid">
                            <div class="profile-header bg-dark">
                                <div class="user-name">{{profileViewDetails?.assetName}}</div>
                                <div class="name-center">{{profileViewDetails?.assetCode}}</div>
                            </div>
                            <div  *ngIf="(profileImg != undefined && profileImg != null && profileImg != '')"  class="col-md-4 sign-img" style="margin-left: 33%;">
                                <img [attr.src]="profileImg"  class="user-img" />
                            </div>

                            <div class="row">
                                <div class="col-4">
                                <strong>Status :   </strong>
                                <span>{{profileViewDetails?.statusName}}</span>
                            </div>
                                <div class="col-4"></div>
                                <div class="col-4">
                                    <span><i class="material-icons"> location_on</i></span>
                                    <span>{{profileViewDetails?.locationName}}</span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-7">
                                    <strong>Put To Use Date :   </strong>
                                    <span>{{profileViewDetails?.putUseDate}}</span>
                                </div>
                            </div>
                            <br>
                            
                            <div class="row">
                                <div class="col-4">
                                    <h5>{{profileViewDetails?.purchasePrice}}</h5>
                                    <small>Purchase Value </small>
                                </div>
                                <div class="col-4">
                                    <h5>{{profileViewDetails?.captitalizationPrice}}</h5>
                                    <small>Capitalization Price</small>
                                </div>
                                <div class="col-4">
                                    <h5>{{profileViewDetails?.depreciation}}</h5>
                                    <small>Depreciation</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              
                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-12">
                    <div class="card">
                        <div class="header">
                            <strong> QR CODE </strong>
                        </div>
                            <div *ngIf="(qrCodeImg != undefined && qrCodeImg != null && qrCodeImg != '')" style="margin-left: 23%;">
                                <img [attr.src]="qrCodeImg" class="thumb-image" style="max-height: 193px; width: 132px;" />
                            </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-12 col-md-4 col-lg-12">
                    <div class="card">
                        <div class="header">
                            <strong>FILES</strong>
                        </div>
                            <div *ngIf="(profileViewDetails?.uploadFiles != undefined && profileViewDetails?.uploadFiles != null && profileViewDetails?.uploadFiles != '')" class="iconCard" style="margin-left: 3%;">
                                <span><i class="far fa-file-alt docIcons"></i>{{profileViewDetails?.uploadFiles?.split('/').pop()}}</span>
                                <a class="downloadView" (click)="viewDocuments(profileViewDetails?.uploadFiles, profileViewDetails?.uploadFiles?.split('/').pop())">
                                  <i class="fas fa-eye" style=" cursor: pointer;color: #3D78BE;"></i>
                                </a>
                              </div>
                    </div>
                </div>

                <div class="card">
                    <div class="body p-5">
                        <apx-chart [series]="projectOptions.series" [chart]="projectOptions.chart" [yaxis]="projectOptions.yaxis"
                          [xaxis]="projectOptions.xaxis" [labels]="projectOptions.labels" [stroke]="projectOptions.stroke"
                          [plotOptions]="projectOptions.plotOptions" [markers]="projectOptions.markers" [fill]="projectOptions.fill"
                          [tooltip]="projectOptions.tooltip" [colors]="projectOptions.colors"></apx-chart>
                      </div>

                    <!-- <div class="m-b-20">
                        <div class="contact-grid">
                            <div class="profile-header bg-dark">
                                <div class="user-name">{{profileViewDetails?.assetName}}</div>
                                <div class="name-center">{{profileViewDetails?.assetCode}}</div>
                            </div>
                            <div class="col-md-4 sign-img" style="margin-left: 33%;">
                                <img [attr.src]="this.imagePath"  class="user-img" />
                            </div>
                            <p>
                                {{profileViewDetails?.category}}
                                <br />{{profileViewDetails?.status}}
                            </p>
                            <div>
                                <span><i class="material-icons"> location_on</i></span>
                                <span>{{profileViewDetails?.locationName}}</span>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <h5>{{profileViewDetails?.purchasePrice}}</h5>
                                    <small>Purchase Value </small>
                                </div>
                                <div class="col-4">
                                    <h5>{{profileViewDetails?.captitalizationPrice}}</h5>
                                    <small>Captitalization Price</small>
                                </div>
                                <div class="col-4">
                                    <h5>{{profileViewDetails?.depreciation}}</h5>
                                    <small>Depreciation</small>
                                </div>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
            <div class="col-lg-8 col-md-12">
                <div class="card">
                    <mat-tab-group (selectedTabChange)="accurredDepreciationPopUp($event);">
                        <mat-tab>
                            <ng-template mat-tab-label>
                                <mat-icon class="example-tab-icon msr-2">face</mat-icon>
                                About
                            </ng-template>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="project_widget">
                                    <div class="header">
                                        <h2><strong>Asset Info</strong></h2>
                                    </div>
                                    <div class="body">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <strong>Brand</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.brand}}</p>
                                            </div>
                                            
                                            <div class="col-md-2">
                                                <strong>Description</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted"> : {{profileViewDetails?.description}}</p>
                                            </div>
                                            <div class="col-md-2">
                                                <strong>GST</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.gst}}</p>
                                            </div>

                                        </div>


                                        <div class="row">
                                        
                                            <div class="col-md-2">
                                                <strong>Custom Duty</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.customDuty}}</p>
                                            </div>
                                            <div class="col-md-2">
                                                <strong>Other Taxes</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.otherTaxes}}</p>
                                            </div>

                                            <div class="col-md-2">
                                                <strong>Transport</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.transport}}</p>
                                            </div>
                                        </div>

                                        <div class="row">
                                            
                                            <div class="col-md-2">
                                                <strong>Installation And Commission Charges</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.instalAndCommission}}</p>
                                            </div>
                                           

                                        </div>

                                    </div>
                                </div>
                            </div>
                             <mat-divider></mat-divider>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="project_widget">
                                    <div class="header">
                                        <h2><strong>Purchase Info</strong></h2>
                                    </div>
                                    <div class="body">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <strong>Vendor Name</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted" >: {{profileViewDetails?.vendor}}</p>
                                            </div>


                                            <div class="col-md-2">
                                                <strong>PO Number</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p  class="text-muted">: {{profileViewDetails?.poNumber}}</p>
                                            </div>

                                            <div class="col-md-2">
                                                <strong>Invoice Date</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.invoiceDate}}</p>
                                            </div>


                                        </div>



                                        <div class="row">
                                          

                                            <div class="col-md-2">
                                                <strong>Invoice Number</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.invoiceNo}}</p>
                                            </div>


                                            <div class="col-md-2">
                                                <strong>Purchase Price</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.purchasePrice}}</p>
                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted">{{profileViewDetails?.selfOrPartner}}</p>
                                            </div>
                                        </div>


                                        <div class="row">

                                            <div class="col-md-2">
                                                <strong>Currency</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.currency}}</p>
                                            </div>


                                            
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <mat-divider></mat-divider>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="project_widget">
                                    <div class="header">
                                        <h2><strong>Financial Info</strong></h2>
                                    </div>
                                    <div class="body">
                                        <div class="row" >
                                            <div class="col-md-2 col-4 b-r" >
                                                <strong>Capitalization Price</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">: {{profileViewDetails?.captitalizationPrice}}</p>
                                            </div>


                                            <div class="col-md-2 col-4 b-r" >
                                                <strong>Capitalization Date</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">: {{profileViewDetails?.captitalizationDate}}</p>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Life (years)</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">: {{profileViewDetails?.endLife}}</p>
                                            </div>


                                        </div>



                                        <div class="row">
                                          

                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Salvage Value</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">: {{profileViewDetails?.scrapValue}}</p>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <mat-divider></mat-divider>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="project_widget">
                                    <div class="header">
                                        <h2><strong>Alloted Info</strong></h2>
                                    </div>
                                    <div class="body">
                                        


                                        <div class="row">
                                            <div class="col-md-2 ">
                                                <strong>Transferred To</strong>

                                            </div>

                                            <div class="col-md-2">
                                                <p class="text-muted">: {{profileViewDetails?.transferredTo}}</p>
                                            </div>


                                            <div class="col-md-2 ">
                                                <strong>Remarks</strong>

                                            </div>

                                            <div class="col-md-2 ">
                                                <p class="text-muted">: {{profileViewDetails?.remarks}}</p>
                                            </div>


                                            <div class="col-md-2 ">
                                                <strong>Asset User</strong>

                                            </div>

                                            <div class="col-md-2 ">
                                                <p class="text-muted">: {{profileViewDetails?.assetUser}}</p>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                            <mat-divider></mat-divider>
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="project_widget">
                                 
                                    <!-- Computer Start -->
                                    <div class="body" *ngIf="computerFlag">
                                        <div class="row">
                                            <div class="col-md-2 ">
                                                <strong>Operating System</strong>

                                            </div>

                                            <div class="col-md-2 ">
                                                <p class="text-muted">{{profileViewDetails?.os}}</p>
                                            </div>


                                            <div class="col-md-2">
                                                <strong>Processor</strong>

                                            </div>

                                            <div class="col-md-2 ">
                                                <p class="text-muted">{{profileViewDetails?.processor}}</p>
                                            </div>

                                            <div class="col-md-2 ">
                                                <strong>Memory</strong>

                                            </div>

                                            <div class="col-md-2 ">
                                                <p class="text-muted">{{profileViewDetails?.memory}}</p>
                                            </div>

                                        </div>
                                        <div class="row">
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Storage</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.storage}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Monitor</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.monitor}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Computer End -->
                                    <!-- Furniture Start -->
                                    <div class="body" *ngIf="furnitureFlag">
                                        <div class="row">
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Aesthetics</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.aesthetics}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Quality</strong>

                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.quality}}</p>
                                            </div>
                                        
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Safety</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.safety}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Sustainability</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.sustainability}}</p>
                                            </div>
                                            
                                            </div>
                                    </div>
                                     <!-- Furniture End -->
                                  
                                      <!-- Plant and Machinery Start -->
                                      <div class="body" *ngIf="plantFlag">
                                        <div class="row">
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Lift Time</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.lifeTime}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Cost Of Land</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.costOfLand}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Substance</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.substance}}</p>
                                            </div>
                                            
                                            </div>
                                        </div>
                                         <!-- Plant and Machinery End -->
                                         <!-- Vehicle Start -->
                                      <div class="body" *ngIf="vehicleFlag">
                                        <div class="row">
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Type</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.vehicleType}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Engine</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.vehicleEngine}}</p>
                                            </div>
                                            <div class="col-md-2 col-4 b-r">
                                                <strong>Speed</strong>
                                            </div>

                                            <div class="col-md-2 col-4 b-r">
                                                <p class="text-muted">{{profileViewDetails?.vehicleSpeed}}</p>
                                            </div>
                                            
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2 col-4 b-r">
                                                    <strong>Fuel Capacity</strong>
                                                </div>
    
                                                <div class="col-md-2 col-4 b-r">
                                                    <p class="text-muted">{{profileViewDetails?.fuelCapacity}}</p>
                                                </div>
                                                <div class="col-md-2 col-4 b-r">
                                                    <strong>Weight</strong>
                                                </div>
    
                                                <div class="col-md-2 col-4 b-r">
                                                    <p class="text-muted">{{profileViewDetails?.vehicleWeight}}</p>
                                                </div>
                                                <div class="col-md-2 col-4 b-r">
                                                    <strong>Insurance Date</strong>
                                                </div>
    
                                                <div class="col-md-2 col-4 b-r">
                                                    <p class="text-muted">{{profileViewDetails?.insuranceDate}}</p>
                                                </div>
                                                </div>
                                        </div>
                                        <!-- Vehicle End -->
                                </div>
                            </div>

                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="project_widget">
                                <div class="header">
                                    <h2><strong>General Info</strong></h2>
                                </div>
                                <div class="body">
                                    <div class="row">
                                        <div class="col-md-3 col-6 b-r">
                                            <strong>Last Audited Date</strong>
                                            <br>
                                            <p class="text-muted">{{profileViewDetails?.lastAuditedDate}}</p>
                                        </div>
                                        <div class="col-md-3 col-6 b-r">
                                            <strong>Ownership</strong>
                                            <br>
                                            <p class="text-muted">{{ownerShip}}</p>
                                        </div>
                                        <div class="col-md-3 col-6 b-r" *ngIf="isRented">
                                            <strong>Upto date</strong>
                                            <br>
                                            <p class="text-muted">{{profileViewDetails?.rentedUptoDate}}</p>
                                        </div>
                                        <div class="col-md-3 col-6 b-r" *ngIf="isThirdParty">
                                            <strong>Upto date</strong>
                                            <br>
                                            <p class="text-muted">{{profileViewDetails?.thirdPartyUptoDate}}</p>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>


                        </mat-tab>

                        <mat-tab label="Accrued Depreciation" style="overflow-x: hidden!important;" >
                            <br>
                            <div class="col-lg-12 col-md-12 col-sm-12" >
                                <div class="project_widget">
                                
                                    <div class="body">
                                        <div class="row">
                                           
                                               <div class="col-md-2"> <strong>Asset Id</strong> </div>
                                               <div class="col-md-2">
                                                <p class="text-muted"> : {{auditableAsset?.assetid}}</p>
                                            </div>
                                            
                                            <div class="col-md-2">
                                               
                                                <strong>Asset Name</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{auditableAsset?.assetname}}</p>
                                            </div>
                                            <div class="col-md-2">
                                                <strong>Acquisition Value</strong>
                                                </div>
                                                <div class="col-md-2"> 
                                                <p class="text-muted">:{{auditableAsset?.value?.toFixed(2)}}</p>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <strong>Salvage Value</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">:{{auditableAsset?.salvageValue?.toFixed(2)}}</p>
                                            </div>
                                            <div class="col-md-2">
                                                <strong>Useful Years</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">:{{auditableAsset?.lifeInYears}}</p>
                                            </div>
                                            <div class="col-md-2">
                                                <strong>Acquisition Date</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{auditableAsset?.acquisitiondt}}</p>
                                            </div>

                                        </div>

                                        <div class="row">
                                        
                                            <!-- <div class="col-md-2">
                                                <strong>Dep Method</strong>
                                                </div>
                                                <div class="col-md-2">
                                                <p class="text-muted">: {{auditableAsset?.depreciationMethod}}</p>
                                            </div> -->
                                            <div class="col-md-1">

                                            </div>
                                            <div class="col-md-2">

                                            </div>
                                            <div class="col-md-1">
                                                <strong>FY</strong>
                                                </div>
                                                <div class="col-md-6">
                                                <mat-form-field class="example-full-width form-control-sm" appearance="outline" style="width: 60%;">
                                                    <mat-label>Financial Year</mat-label>
                                                    <input matInput formControlName="depreciationMethod" maxlength="4">
                                                    <mat-icon matSuffix (click)="financialChange()" class="SearchIcon">search</mat-icon>
                                                  </mat-form-field>
                                                  <!-- <div class="SearchIcon">
                                                    <i class="fas fa-search" aria-hidden="true" (click)="financialChange()"></i>
                                                  </div> -->
                                                
                                            </div>                 
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-2 col-lg-3 col-md-12 col-sm-12 " style="    margin-left: 80%;">
                                <mat-checkbox formControlName="assetType" ngInit="checked=true" (change)="checkFullLife($event)">Show Full Life</mat-checkbox>
                                <!-- <mat-checkbox formControlName="assetType" ngInit="checked=true">Show Full Life</mat-checkbox> -->
                            </div>

                            <div class="container" style="height: 200px ;">
                                <!-- <img src="assets/images/icons/xlsx.png" alt="" style="margin-left:97%"/> -->
                                
                              
                                  <table id="excel-table" class="table table-striped">
                                    <thead>
                                        <tr style="position: sticky;top: 0;">
                                          <th style="background-color:#c1ddf5;">S No</th>
                                          <th style="background-color:#c1ddf5;">FY</th>
                                          <th style="background-color:#c1ddf5;text-align: right;">Book Value</th>
                                          <th style="background-color:#c1ddf5;text-align: right;">Depreciation</th>
                                          <th style="background-color:#c1ddf5;text-align: right;">Acc Depreciation</th>
                                          <th style="background-color:#c1ddf5;text-align: right;">Book Value End</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                          <tr *ngFor="let visitReport of financialChangeDetails;">
                                          <!-- <tr> -->
                                            <td>{{visitReport?.yearseq}}</td>
                                            <td>{{visitReport?.financial_year}}</td>
                                            <td style="text-align: right;">{{visitReport?.bookvalue.toFixed(2)}}</td>
                                            <td style="text-align: right;">{{visitReport?.depreciation.toFixed(2)}}</td>
                                            <td style="text-align: right;">{{visitReport?.accudepreciation.toFixed(2)}}</td>
                                            <td style="text-align: right;">{{visitReport?.bookvalueend.toFixed(2)}}</td>
                                          </tr>        
                                    </tbody>
                                  </table>
                              </div><br>
                          </mat-tab>

                          <mat-tab label="Asset Movement History">
                            <br>
                            <div class="row" style="width: 136%;">
                            <!-- <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                              <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                <mat-label>Item</mat-label>
                                <mat-select   name ="item" formControlName="item">
                                  <mat-option *ngFor="let title of itemNameDdList" [value]="title.id">
                                    {{title.text}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div> -->
  
                            <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                              
                            </div>
  
                            <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                              <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                <mat-label>Location</mat-label>
                                <mat-select formControlName="location" >
                                  <mat-option *ngFor="let title of locationDdList" [value]="title.id">
                                    {{title.text}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
  
                            <!-- <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                              <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                                <mat-label>Stock On</mat-label>
                                <input matInput [matDatepicker]="picker" formControlName="fromDateObj"
                                (dateInput)="$event.value.format('DD/MM/YYYY')" id="fromDate" 
                                (dateChange)="getDateString($event,'fromDate')" >
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                              </mat-form-field>
                            </div> -->
                          </div>
  
                          <div class="row">
                              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" style="display:flex; align-items: center; justify-content:center;" >
                                  <button  class="btn-space" mat-raised-button (click)=" viewReport(profileViewDetails?.assetName)"
                                      style=" color: aliceblue; background-color: green;" ><i class="fa fa-search"></i> View Report</button>
                                  <button color="warn"  type="button"  (click)="reset()" 
                                      mat-raised-button color="primary" style="background-color: rgb(14, 42, 126);">Reset</button>
                                     
                              </div>
                          </div>
                          <br>
                          <br>
       
       <!-- detail_table_starts-->
       <table mat-table #outerSort="matSort" [dataSource]="dataSource" multiTemplateDataRows
            class="mat-elevation-z8" matSort>

            <ng-container matColumnDef="icon">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>&nbsp;</th>
                <td mat-cell *matCellDef="let row" style="width: 88px;">
                  <button mat-icon-button color="accent"  
                class="tbl-action-btn">
              <mat-icon *ngIf="isExpand == true" style="color: black;cursor: pointer;margin-top: 7px;">arrow_drop_down</mat-icon>
              <mat-icon *ngIf="isExpand == false" style="color: black;cursor: pointer;margin-top: 7px;">arrow_drop_up</mat-icon>
               </button> 
                </td>
            </ng-container>
            
            <ng-container matColumnDef="assetName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>&nbsp;Item Name</th>
                <td mat-cell *matCellDef="let row" style="pointer-events: none;"> {{row.assetName}}
                </td>
            </ng-container>
            <ng-container matColumnDef="categoryName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Item Description</th>
                <td mat-cell *matCellDef="let row" style="pointer-events: none;"> {{row.categoryName}}
                </td>
            </ng-container>
            <ng-container matColumnDef="locationName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
                <td mat-cell *matCellDef="let row" style="pointer-events: none;"> {{row.locationName}}
                </td>
            </ng-container>
            <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Quantity</th>
                <td mat-cell *matCellDef="let row" style="pointer-events: none;"> {{row.quantity}}
                </td>
            </ng-container>
  
              <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
              <ng-container matColumnDef="expandedDetail">
                  <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
                      <div class="example-element-detail" *ngIf="element.subList"
                          [@detailExpand]="isExpanded(element)">
                          <div class="inner-table mat-elevation-z8" *ngIf="isExpanded(element)">
              
                              <table #innerTables mat-table #innerSort="matSort"
                                  [dataSource]="element.subList" multiTemplateDataRows matSort>
                                  <!-- <ng-container matColumnDef="{{innerColumn}}"
                                      *ngFor="let innerColumn of innerDisplayedColumns">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header>
                                          {{innerColumn}} </th>
                                      <td mat-cell *matCellDef="let element"> {{element[innerColumn]}}
                                      </td>
                                  </ng-container> -->
                                  <ng-container matColumnDef="transferDate">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Transfer Date</th>
                                      <td mat-cell *matCellDef="let row"> {{row.transferDate}}
                                      </td>
                                  </ng-container>
                                  <!-- <ng-container matColumnDef="docType">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Doc.Type</th>
                                      <td mat-cell *matCellDef="let row"> {{row.docType}}
                                      </td>
                                  </ng-container> -->
                                  <!-- <ng-container matColumnDef="docRef">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Doc.Ref</th>
                                      <td mat-cell *matCellDef="let row"> {{row.docRef}}
                                      </td>
                                  </ng-container> -->
                                  <ng-container matColumnDef="transferQuantity">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Transfer Quantity</th>
                                      <td mat-cell *matCellDef="let row"> {{row.transferQuantity}}
                                      </td>
                                  </ng-container>
                                  <ng-container matColumnDef="sourceLocation">
                                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Source Location</th>
                                      <td mat-cell *matCellDef="let row"> {{row.sourceLocation}}
                                      </td>
                                  </ng-container>
                                  <ng-container matColumnDef="destinationLocation">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Destination Location</th>
                                    <td mat-cell *matCellDef="let row"> {{row.destinationLocation}}
                                    </td>
                                </ng-container>
                                  <tr mat-header-row *matHeaderRowDef="innerDisplayedColumns"></tr>
                                  <tr mat-row *matRowDef="let element; columns: innerDisplayedColumns;"></tr>
                               
                              </table>
                          </div>
                      </div>
                  </td>
              </ng-container>
            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let element; columns: columnsToDisplay;"
              [class.example-element-row]="element.subList" [class.example-expanded-row]="isExpanded(element)"
              (click)="toggleRow(element)">
            </tr>
            <tr mat-row *matRowDef="let row1; columns: ['expandedDetail']" class="example-detail-row"></tr>
            </table>
                            </mat-tab>
  
                    </mat-tab-group>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12" style="display:flex; align-items: center; justify-content:center; margin: 7px;" >
            <button color="warn"  type="button"  (click)="back()" 
            mat-raised-button color="primary" style="background-color: rgb(249, 17, 0);">Back</button>
        </div>
        </div>
    </form>
    </div>
</section>