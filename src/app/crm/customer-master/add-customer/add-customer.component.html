<section class="content">
    <div class="content-block">
      <div class="block-header" style="padding: 0.5% !important;">
        <!-- breadcrumb -->
        <app-breadcrumb [title]="'Add Customer'" [items]="['CRM']" [active_item]="'Add Customer'">
        </app-breadcrumb>
      </div>
      <div class="row clearfix ">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
        <div class="box-shadow">
          <div class="card">
            <div class="body">
              <form class="m-4" [formGroup]="docForm">
                <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Country</mat-label>
                      <input matInput formControlName="country"  required>
                      <mat-error *ngIf="docForm.get('country').hasError('required')">
                        Country is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>City</mat-label>
                      <input matInput formControlName="city" required>
                      <mat-error *ngIf="docForm.get('city').hasError('required')">
                        City is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Territory Code</mat-label>
                      <input matInput formControlName="territory" required>
                      <mat-error *ngIf="docForm.get('territory').hasError('required')">
                        Territory Code is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Sales Person</mat-label>
                      <input matInput formControlName="salesPerson" required>
                      <mat-error *ngIf="docForm.get('salesPerson').hasError('required')">
                        Sales Person is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Address of Custmer</mat-label>
                      <input matInput formControlName="addressOfCus" required>
                      <mat-error *ngIf="docForm.get('addressOfCus').hasError('required')">
                        Address of Custmer is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Nature of Business of Custumer</mat-label>
                      <input matInput formControlName="business" required>
                      <mat-error *ngIf="docForm.get('business').hasError('required')">
                        Nature of Business of Custumer Code is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>State/Emirate/Province</mat-label>
                      <input matInput formControlName="stp" required>
                      <mat-error *ngIf="docForm.get('stp').hasError('required')">
                        State/Emirate/Province is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Name of the Organisation</mat-label>
                      <input matInput formControlName="organisationName" required>
                      <mat-error *ngIf="docForm.get('organisationName').hasError('required')">
                        Name of the Organisation is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>ZIP/PINCODE</mat-label>
                      <input matInput formControlName="zipCode" required>
                      <mat-error *ngIf="docForm.get('zipCode').hasError('required')">
                        ZIP/PINCODE is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Customer Short Name</mat-label>
                      <input matInput formControlName="shortName" required>
                      <mat-error *ngIf="docForm.get('shortName').hasError('required')">
                        Customer Short Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Website of Customer</mat-label>
                      <input matInput formControlName="cusWebsite" required>
                      <mat-error *ngIf="docForm.get('cusWebsite').hasError('required')">
                        Website of Customer is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Company Regn./TL/CIN/UEN/NIB No</mat-label>
                      <input matInput formControlName="companyRegn" required>
                      <mat-error *ngIf="docForm.get('companyRegn').hasError('required')">
                        Company Regn./TL/CIN/UEN/NIB No is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Key Contact Name</mat-label>
                      <input matInput formControlName="keyName" required>
                      <mat-error *ngIf="docForm.get('keyName').hasError('required')">
                        Key Contact Name is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Key Contact Number</mat-label>
                      <input matInput formControlName="keyNumber" required>
                      <mat-error *ngIf="docForm.get('keyNumber').hasError('required')">
                        Key Contact Number is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Key Contact E-mail ID</mat-label>
                      <input matInput formControlName="keymail" required>
                      <mat-error *ngIf="docForm.get('keymail').hasError('required')">
                        Key Contact E-mail ID is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Transaction Tax/GST NO.</mat-label>
                      <input matInput formControlName="transactionGST" required>
                      <mat-error *ngIf="docForm.get('transactionGST').hasError('required')">
                        Transaction Tax/GST NO. is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>VAT/TAN Number</mat-label>
                      <input matInput formControlName="vatNumber" required>
                      <mat-error *ngIf="docForm.get('vatNumber').hasError('required')">
                        VAT/TAN Number is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>PAN Number</mat-label>
                      <input matInput formControlName="panNumber" required>
                      <mat-error *ngIf="docForm.get('panNumber').hasError('required')">
                        PAN Number is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Notification E-mail ID</mat-label>
                      <input matInput formControlName="notificationMail" required>
                      <mat-error *ngIf="docForm.get('notificationMail').hasError('required')">
                        Notification E-mail ID is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Invoice E-mail ID</mat-label>
                      <input matInput formControlName="invoiceMail" required>
                      <mat-error *ngIf="docForm.get('invoiceMail').hasError('required')">
                        Invoice E-mail ID is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Payment Center</mat-label>
                      <input matInput formControlName="paymentCenter" required>
                      <mat-error *ngIf="docForm.get('paymentCenter').hasError('required')">
                        Payment Center is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Credit Limit Currency</mat-label>
                      <input matInput formControlName="creditLimit" required>
                      <mat-error *ngIf="docForm.get('creditLimit').hasError('required')">
                        Credit Limit Currency is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Credit limit(USD)</mat-label>
                      <input matInput formControlName="creditUsd" required>
                      <mat-error *ngIf="docForm.get('creditUsd').hasError('required')">
                        Credit limit(USD) is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                  <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12">
                    <mat-form-field class="example-full-width form-control-sm" appearance="outline">
                      <mat-label>Credit Days</mat-label>
                      <input matInput formControlName="creditDays" required>
                      <mat-error *ngIf="docForm.get('creditDays').hasError('required')">
                        Credit Days is required
                      </mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                    <mat-label><b>Credit Agreement</b></mat-label>
                    <app-file-upload formControlName="creditAgreement"></app-file-upload>
                  </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                    <mat-label><b>KYC Document</b></mat-label>
                    <app-file-upload formControlName="kycDoc"></app-file-upload>
                  </div>
                </div>
                <div class="row">
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                    <mat-label><b>Exemption Supporting Doc</b></mat-label>
                    <app-file-upload formControlName="exemptionDoc"></app-file-upload>
                  </div>
                  <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                    <mat-label><b>Non GST Doc</b></mat-label>
                    <app-file-upload formControlName="nonGstDoc"></app-file-upload>
                  </div>
                </div>
                <br><br>
                <!-- <div style="border: 1px solid #e5e0e0; box-shadow: 0px 0px 20px -6px rgb(0 0 0 / 67%);"
                class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                  <mat-label style="padding-left:8px;"><b>Details of Departments & Contacts</b></mat-label>
                <table *ngFor ="let obj of dataarray; let i=index" style="margin-left: 6px;">
                  <tr>
                    <td>
                      <div>
                        <button mat-mini-fab color="warn" (click)="removeRow(i)">
                          <mat-icon class="col-white">delete</mat-icon>
                        </button>
                      </div>
                      </td>
                  </tr>
                  <tr class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                      <td>
                          <mat-form-field appearance="outline">
                              <mat-label>Name</mat-label>
                              <input matInput class="mat-form-field" name ="name{{i}}" [(ngModel)] = "obj.name" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                      </td>
                      <td>
                          <mat-form-field appearance="outline">
                              <mat-label>Designation</mat-label>
                              <input matInput name ="designation{{i}}" [(ngModel)] = "obj.designation" [ngModelOptions]="{standalone: true}" >
                            </mat-form-field>
                      </td>
                      <td>
                          <mat-form-field appearance="outline">
                              <mat-label>Department</mat-label>
                              <input matInput name ="department{{i}}" [(ngModel)] = "obj.department" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                      </td>
                      <td>
                          <mat-form-field appearance="outline">
                              <mat-label>Phone No</mat-label>
                              <input matInput name ="phoneno{{i}}" [(ngModel)] = "obj.phoneno" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                      </td>
                      <td>
                          <mat-form-field appearance="outline">
                              <mat-label>Landline No</mat-label>
                              <input matInput name ="landline{{i}}" [(ngModel)] = "obj.landline" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                      </td>
                      <td>
                          <mat-form-field appearance="outline">
                              <mat-label>E-mail Id</mat-label>
                              <input matInput name ="email{{i}}" [(ngModel)] = "obj.email" [ngModelOptions]="{standalone: true}">
                            </mat-form-field>
                      </td>
                  </tr>
              </table>
            </div>
              <div>
                <div>
                  <button mat-mini-fab color="primary" (click)="addRow()">
                    <mat-icon class="col-white">add</mat-icon>
                  </button>
                </div>
              </div> -->
                <div class="row"> 
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 mb-3">
                    <button *ngIf="!edit" (click) = "onSubmit()" class="btn-space" mat-raised-button
                    color="accent" style="margin-left: 36%;background-color: #34d034;">Submit</button>
                    <button *ngIf="edit" (click) = "update()" class="btn-space" mat-raised-button
                    color="accent" style="margin-left: 36%;background-color: #34d034;">Update</button>
                      <button color="primary" type="button" class="btn-space" (click)="reset()" mat-raised-button>Reset</button>
                    <button color="warn" type="button" (click)="onCancel()" mat-raised-button>Cancel</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
  </section>

